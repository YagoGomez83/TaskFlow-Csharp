# .env.example - Template for environment variables
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================

# Database connection details
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=TaskManagementDb
DATABASE_USER=postgres
DATABASE_PASSWORD=ChangeMe_StrongPassword123!

# Full connection string (alternative to individual params)
# DATABASE_CONNECTION=Host=localhost;Database=TaskManagementDb;Username=postgres;Password=your_password

# =============================================================================
# REDIS CONFIGURATION (Cache)
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
# REDIS_CONNECTION=localhost:6379,password=your_redis_password

# =============================================================================
# JWT CONFIGURATION (Authentication)
# =============================================================================

# JWT Secret Key (MUST be at least 32 characters)
# Generate strong key: openssl rand -base64 32
JWT_SECRET=SuperSecretKeyForJWT-MustBe32CharactersMinimum!ChangeMe

# JWT Settings
JWT_ISSUER=TaskManagementAPI
JWT_AUDIENCE=TaskManagementClient
JWT_ACCESS_TOKEN_EXPIRATION_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRATION_DAYS=7

# =============================================================================
# CORS CONFIGURATION (Cross-Origin Resource Sharing)
# =============================================================================

# Comma-separated list of allowed origins
# Development:
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost

# Production (replace with your domains):
# ALLOWED_ORIGINS=https://app.yourdomain.com,https://www.yourdomain.com

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

# Rate limits (requests per minute)
RATE_LIMIT_GENERAL=100
RATE_LIMIT_AUTH=10

# Whitelist IPs (comma-separated, optional)
RATE_LIMIT_WHITELIST_IPS=

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment: Development, Staging, Production
ASPNETCORE_ENVIRONMENT=Development

# Application URLs
ASPNETCORE_URLS=http://+:5000;https://+:5001

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# API URL for frontend
VITE_API_URL=http://localhost:5000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging levels: Trace, Debug, Information, Warning, Error, Critical
LOG_LEVEL=Information

# Serilog Seq server (optional, for centralized logging)
SEQ_SERVER_URL=http://localhost:5341
SEQ_API_KEY=

# =============================================================================
# EMAIL CONFIGURATION (Optional - for future features)
# =============================================================================

# SMTP settings for email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@taskmanagement.com
SMTP_FROM_NAME=TaskManagement API

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL_CHAR=true

# Account lockout
ACCOUNT_LOCKOUT_ENABLED=true
ACCOUNT_LOCKOUT_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=15

# =============================================================================
# DOCKER CONFIGURATION (for docker-compose)
# =============================================================================

# Docker image tags
DOCKER_TAG=latest
API_IMAGE=taskmanagement-api:latest
WEBAPP_IMAGE=taskmanagement-webapp:latest

# Docker networks
NETWORK_BACKEND=backend-network
NETWORK_FRONTEND=frontend-network

# =============================================================================
# CI/CD CONFIGURATION
# =============================================================================

# Docker registry
DOCKER_REGISTRY=docker.io
DOCKER_USERNAME=your-dockerhub-username

# SonarQube
SONAR_HOST_URL=https://sonarcloud.io
SONAR_TOKEN=your-sonarqube-token
SONAR_PROJECT_KEY=taskmanagement-api

# GitHub
GITHUB_TOKEN=your-github-token

# =============================================================================
# PRODUCTION SPECIFIC (Uncomment and configure for production)
# =============================================================================

# SSL Certificate paths
# SSL_CERT_PATH=/app/certs/certificate.pfx
# SSL_CERT_PASSWORD=your-cert-password

# Database SSL
# DATABASE_SSL_MODE=Require

# Secrets from external services (AWS, Azure, etc.)
# AWS_SECRET_ACCESS_KEY=
# AZURE_KEY_VAULT_URL=

# Monitoring and observability
# APPLICATION_INSIGHTS_KEY=
# DATADOG_API_KEY=

# =============================================================================
# DEVELOPMENT HELPERS
# =============================================================================

# Enable Swagger in Development only
SWAGGER_ENABLED=true

# Enable detailed errors (Development only)
DETAILED_ERRORS=true

# Database seeding (Development only)
SEED_DATABASE=true

# =============================================================================
# NOTES
# =============================================================================

# Security Best Practices:
# 1. NEVER commit .env file to version control (it's in .gitignore)
# 2. Use strong, unique passwords for all services
# 3. Rotate secrets regularly (every 90 days recommended)
# 4. Use secrets management services in production (Azure Key Vault, AWS Secrets Manager, etc.)
# 5. Limit access to .env file with proper file permissions: chmod 600 .env
# 6. For production, prefer environment variables over .env files

# Generate strong passwords:
# - Online: https://passwordsgenerator.net/
# - Command line: openssl rand -base64 32

# For production deployments:
# - Use secrets management service (Azure Key Vault, AWS Secrets Manager, HashiCorp Vault)
# - Configure environment variables in your hosting platform
# - Enable SSL/TLS for all services
# - Use managed database services with automatic backups
# - Configure monitoring and alerting
# - Review and update this configuration regularly
